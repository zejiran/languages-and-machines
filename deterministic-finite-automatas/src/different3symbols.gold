/**
 * TP2.1.
 *
 * The language of all strings ğœ” over the alphabet ğ´ = {ğ‘, ğ‘, ğ‘, ğ‘‘, ğ‘’} such that ğœ”
 * contains at least 3 different symbols of ğ´ (e.g. {ğ‘, ğ‘, ğ‘},{ğ‘, ğ‘, ğ‘’},{ğ‘, ğ‘, ğ‘‘},
 * {ğ‘, ğ‘, ğ‘, ğ‘‘, ğ‘’}, etc).
 *
 * Author: Juan AlegrÃ­a - 202011282
 */
 
using gold.**
using gold.structures.automaton.*
using gold.visualization.automaton.*
using gold.structures.set.*

procedure main(args:String[]) begin
	GAutomataFrame.show(createAutomaton())
	Utilities.test(createAutomaton())
end

function createAutomaton():IAutomaton begin
	Q := {'a', 'b', 'c', 'd', 'e'} âˆª 
		  {'a'}Ã—{'b', 'c', 'd', 'e'} âˆª
		  {'b'}Ã—{'a', 'c', 'd', 'e'} âˆª
		  {'c'}Ã—{'a', 'b', 'd', 'e'} âˆª
		  {'d'}Ã—{'a', 'b', 'c', 'e'} âˆª
		  {'e'}Ã—{'a', 'b', 'c', 'd'} âˆª
		  {'0', '1'}
	Î£ := {'a', 'b', 'c', 'd', 'e'}
	qâ‚€ := '0'
	F := {'1'}
	return GDeterministicAutomaton(Q,Î£,qâ‚€,F,d)
end

function d(x,z) begin
	if x = '0' then
		if z = 'a' or z = 'b' or z = 'c' or z = 'd' or z = 'e' then return z
		elseif z = '0' then return z
		end
		
	elseif x = 'a' then
		if z = 'b' or z = 'c' or z = 'd' or z= 'e' then return âŸ¨x, zâŸ©
		else return x
		end
	elseif x = 'b' then
		if z = 'a' or z = 'c' or z = 'd' or z= 'e' then return âŸ¨x, zâŸ©
		else return x
		end
	elseif x = 'c' then
		if z = 'a' or z = 'b' or z = 'd' or z= 'e' then return âŸ¨x, zâŸ©
		else return x
		end
	elseif x = 'd' then
		if z = 'a' or z = 'b' or z = 'c' or z= 'e' then return âŸ¨x, zâŸ©
		else return x
		end
	elseif x = 'e' then
		if z = 'a' or z = 'b' or z = 'c' or z= 'd' then return âŸ¨x, zâŸ©
		else return x
		end
		
	else return '1' // String already accepted.
	end
end

function d(âŸ¨x,yâŸ©,z) begin
	if x = 'a' then
		if y = 'b' then 
			if z = 'c' or z = 'd' or z= 'e' then return '1' 
			else return âŸ¨x,yâŸ©
			end
		elseif y = 'c' then 
			if z = 'b' or z = 'd' or z= 'e' then return '1'
			else return âŸ¨x,yâŸ©
			end
		elseif y = 'd' then 
			if z = 'b' or z = 'c' or z= 'e' then return '1' 
			else return âŸ¨x,yâŸ©
			end
		elseif y = 'e' then 
			if z = 'b' or z = 'c' or z= 'd' then return '1' 
			else return âŸ¨x,yâŸ©
			end
		end
	end
	if x = 'b' then
		if y = 'a' then 
			if z = 'c' or z = 'd' or z= 'e' then return '1' 
			else return âŸ¨x,yâŸ©
			end
		elseif y = 'c' then 
			if z = 'a' or z = 'd' or z= 'e' then return '1'
			else return âŸ¨x,yâŸ©
			end
		elseif y = 'd' then 
			if z = 'a' or z = 'c' or z= 'e' then return '1' 
			else return âŸ¨x,yâŸ©
			end
		elseif y = 'e' then 
			if z = 'a' or z = 'c' or z= 'd' then return '1' 
			else return âŸ¨x,yâŸ©
			end
		end
	end
	if x = 'c' then
		if y = 'a' then 
			if z = 'b' or z = 'd' or z= 'e' then return '1' 
			else return âŸ¨x,yâŸ©
			end
		elseif y = 'b' then 
			if z = 'a' or z = 'd' or z= 'e' then return '1'
			else return âŸ¨x,yâŸ©
			end
		elseif y = 'd' then 
			if z = 'a' or z = 'b' or z= 'e' then return '1' 
			else return âŸ¨x,yâŸ©
			end
		elseif y = 'e' then 
			if z = 'a' or z = 'b' or z= 'd' then return '1' 
			else return âŸ¨x,yâŸ©
			end
		end
	end
	if x = 'd' then
		if y = 'a' then 
			if z = 'b' or z = 'c' or z= 'e' then return '1' 
			else return âŸ¨x,yâŸ©
			end
		elseif y = 'b' then 
			if z = 'a' or z = 'c' or z= 'e' then return '1'
			else return âŸ¨x,yâŸ©
			end
		elseif y = 'c' then 
			if z = 'a' or z = 'b' or z= 'e' then return '1' 
			else return âŸ¨x,yâŸ©
			end
		elseif y = 'e' then 
			if z = 'a' or z = 'b' or z= 'c' then return '1' 
			else return âŸ¨x,yâŸ©
			end
		end
	end
	if x = 'e' then
		if y = 'a' then 
			if z = 'b' or z = 'c' or z= 'd' then return '1' 
			else return âŸ¨x,yâŸ©
			end
		elseif y = 'b' then 
			if z = 'a' or z = 'c' or z= 'd' then return '1'
			else return âŸ¨x,yâŸ©
			end
		elseif y = 'c' then 
			if z = 'a' or z = 'b' or z= 'd' then return '1' 
			else return âŸ¨x,yâŸ©
			end
		elseif y = 'd' then 
			if z = 'a' or z = 'b' or z= 'c' then return '1' 
			else return âŸ¨x,yâŸ©
			end
		end
	end
end
